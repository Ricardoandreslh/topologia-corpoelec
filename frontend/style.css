:root {
  --bg: #0b0d12;
  --surface-1: #111522;
  --surface-2: #161b2a;
  --surface-3: #1b2234;
  --text: #ffffff;
  --muted: #a0abc0;
  --brand: #0078AA;
  --brand-2: #153959;
  --accent: #ffd166;
  --danger: #ff6b6b;
  --ok: #3ddc97;
  --border: #24314a;
  --shadow: 0 10px 24px rgba(0,0,0,0.35);
  transition: background-color .25s ease, color .25s ease;
}
/* Variables para tema claro */
:root[data-theme="light"] {
     --bg: #f6f8fb;
     --surface-1: #ffffff;
     --surface-2: #f3f5f9;
     --surface-3: #e8edf5;
     --text: #0b0d12;
     --muted: #5b677a;
     --brand: #0d6efd;
     --brand-2: #00b3ad;
     --accent: #ffb703;
     --danger: #d64545;
     --ok: #2db27a;
     --border: #d7deea;
     --shadow: 0 10px 24px rgba(0,0,0,0.08);
   }
/* Visibilidad según tema */
:root[data-theme="dark"] .theme-toggle__icon--sun { opacity: .35; transform: translateY(2px) scale(.95); }
:root[data-theme="dark"] .theme-toggle__icon--moon { opacity: 1; transform: translateY(0); }
:root[data-theme="light"] .theme-toggle__icon--sun { opacity: 1; transform: translateY(0); }
:root[data-theme="light"] .theme-toggle__icon--moon { opacity: .35; transform: translateY(-2px) scale(.95); }

/* Ajustes visuales que dependen del tema */
:root[data-theme="light"] body {
     background: radial-gradient(1200px 500px at 10% -20%, #e6eefb 0%, #f6f8fb 60%) no-repeat, var(--bg);
}

:root[data-theme="light"] .logo {
     color: #ffffff;
}

:root[data-theme="light"] .canvas-inner {
     background-color: var(--surface-2);
     background-image:
     linear-gradient(to right, rgba(0,0,0,0.04) 1px, transparent 1px),
     linear-gradient(to bottom, rgba(0,0,0,0.04) 1px, transparent 1px);
}

:root[data-theme="light"] .tab:hover { 
     border-color: var(--border);
 }

:root[data-theme="light"] .session .user-badge { 
     color: #3f4a5e; 
}

:root[data-theme="light"] .view-placeholder { 
     border-color: rgba(0,0,0,0.06); 
}

html { 
     color-scheme: light dark; 
}



* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1200px 500px at 10% -20%, #122 0%, #0b0d12 60%) no-repeat, var(--bg);
}

/* Utilidades */
.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px,1px,1px,1px);
  white-space: nowrap; border: 0; padding: 0; margin: -1px;
}

/* Header */
.app-header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 16px;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(6px);
  position: sticky; top: 0; z-index: 20;
}

.brand { display: flex; align-items: center; gap: 12px; }
.logo {
  width: 36px; height: 36px; border-radius: 10px;
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  display: grid; place-items: center; color: #0a0a0a; font-size: 18px; font-weight: 800;
  box-shadow: 0 4px 18px rgba(82,169,255,0.35);
}
.logo img {
     width: 100%;
     height: 100%;
     object-fit: contain;
}
.titles { display: grid; line-height: 1.1; }
.app-title { margin: 0; font-size: 16px; font-weight: 700; letter-spacing: .2px; }
.app-subtitle { margin: 0; color: var(--muted); font-size: 12px; }

.controls { display: flex; align-items: center; gap: 16px; justify-self: center; width: 100%; }
.tabs {
  display: inline-flex; gap: 8px; padding: 6px; border: 1px solid var(--border); border-radius: 12px; background: var(--surface-1);
}
.tab {
  padding: 8px 12px; border-radius: 8px; cursor: pointer; user-select: none;
  color: var(--muted); border: 1px solid transparent; transition: all .15s ease;
}
.tab:hover { color: var(--text); background: var(--surface-2); border-color: var(--border); }
#tab-wifi:checked ~ header .tab--wifi,
#tab-switches:checked ~ header .tab--switches {
  color: #0b0d12; background: linear-gradient(135deg, var(--brand), var(--brand-2));
  border-color: transparent; box-shadow: 0 6px 18px rgba(0,208,200,0.3);
}

.toolbar { display: flex; gap: 10px; margin-left: auto; }
.tool-group {
  display: inline-flex; gap: 8px; background: var(--surface-1); padding: 6px; border-radius: 12px; border: 1px solid var(--border);
}
.btn {
  padding: 8px 10px; border-radius: 8px; border: 1px solid var(--border);
  background: var(--surface-2); color: var(--text); cursor: not-allowed; opacity: .6;
}
.search {
  border: 1px solid var(--border); background: var(--surface-2); color: var(--text);
  border-radius: 8px; padding: 8px 10px; width: 220px;
}

.session .user-badge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border);
  background: var(--surface-1); color: var(--muted);
}

/* Main + Canvas */
.app-main { padding: 16px; }
.canvas-frame {
  border: 1px solid var(--border);
  border-radius: 16px;
  background: var(--surface-1);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.canvas-inner {
  position: relative;
  width: 100%;
  min-height: 72vh;
  /* Fondo con grilla sutil */
  background-color: var(--surface-2);
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* Capas (para próximas fases) */
.layer { position: absolute; inset: 0; pointer-events: none; }
.layer--background { z-index: 1; }
.layer--links { z-index: 2; }
.layer--nodes { z-index: 3; }

/* Vistas: ocultar/mostrar con tabs */
.view { display: none; position: relative; width: 100%; height: 100%; padding: 24px; }
#tab-wifi:checked ~ main .view--wifi { display: block; }
#tab-switches:checked ~ main .view--switches { display: block; }

/* Placeholder centrado para que se "vea la vista" desde ya */
.view-placeholder {
  display: grid; place-items: center;
  height: calc(72vh - 48px);
  color: var(--muted);
  text-align: center;
  border: 2px dashed rgba(255,255,255,0.08);
  border-radius: 12px;
  background:
    radial-gradient(400px 200px at 70% -50%, rgba(82,169,255,0.12), transparent 60%) no-repeat,
    radial-gradient(400px 200px at 20% 120%, rgba(0,208,200,0.10), transparent 60%) no-repeat;
}
.view-placeholder h2 { margin: 0 0 6px 0; color: var(--text); font-size: 18px; }
.view-placeholder p { margin: 0; }

/* Footer */
.app-footer {
  display: grid; grid-template-columns: 1fr auto;
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  padding: 10px 16px; border-top: 1px solid var(--border); color: var(--muted);
  background: var(--surface-1);
}
.footer-left, .footer-right { display: flex; align-items: center; gap: 10px; }
.status-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: #888;
  box-shadow: 0 0 0 3px rgba(255,255,255,0.03) inset;
}
.status--ok { background: var(--ok); }
.status--danger { background: var(--danger); }
.status--unknown { background: #888; }



/* ——— Layout más elegante del main ——— */
.app-main {
  max-width: 1200px;
  margin: 16px auto;
}

/* ——— Glow de borde en el recuadro ——— */
.canvas-frame { position: relative; }
.canvas-frame::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 18px;
  background: conic-gradient(from 180deg at 50% 50%,
    rgba(82,169,255,.6), rgba(0,208,200,.6), rgba(255,209,102,.5), rgba(82,169,255,.6));
  filter: blur(12px);
  opacity: .25;
  z-index: 0;
}

/* ——— Switch de tema ——— */
.theme-toggle {
     --toggle-bg: var(--surface-2);
     --toggle-brd: var(--border);
     --toggle-dot: var(--text);
     position: relative;
     width: 52px;
     height: 30px;
     border-radius: 999px;
     border: 1px solid var(--toggle-brd);
     background: var(--toggle-bg);
     display: inline-flex;
     align-items: center;
     justify-content: center;
     margin-right: 10px;
     cursor: pointer;
     box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
   }
   .theme-toggle:focus-visible {
     outline: 2px solid var(--brand-2);
     outline-offset: 2px;
   }
   .theme-toggle::after {
     content: "";
     position: absolute;
     width: 22px; height: 22px;
     border-radius: 50%;
     background: var(--toggle-dot);
     left: 4px; top: 3px;
     transition: transform .25s ease;
     box-shadow: 0 1px 3px rgba(0,0,0,.25);
   }
   /* Estado por tema: mueve el “dot” */
   :root[data-theme="dark"] .theme-toggle::after { transform: translateX(0); }
   :root[data-theme="light"] .theme-toggle::after { transform: translateX(22px); }
   /* Iconos dentro del switch */
   .theme-toggle__icon {
     position: absolute;
     font-size: 14px;
     line-height: 1;
     transition: opacity .2s ease, transform .25s ease;
   }
   .theme-toggle__icon--sun { left: 8px; }
   .theme-toggle__icon--moon { right: 8px; }


.canvas-inner {
  animation: gridShift 60s linear infinite;
}
.canvas-inner::after {
  content: "";
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(600px 280px at 15% 20%, rgba(82,169,255,.08), transparent 40%),
    radial-gradient(600px 280px at 85% 80%, rgba(0,208,200,.06), transparent 45%);
  pointer-events: none;
}

/* ——— Tabs con subrayado animado ——— */
.tab { position: relative; overflow: hidden; }
.tab::after {
  content: "";
  position: absolute;
  left: 10px; right: 10px; bottom: 4px; height: 2px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  transform: scaleX(0); transform-origin: left;
  transition: transform .25s ease; opacity: .9;
}
#tab-wifi:checked ~ header .tab--wifi::after,
#tab-switches:checked ~ header .tab--switches::after {
  transform: scaleX(1);
}

/* ——— Botones e input con acabado sutil ——— */
.btn {
  background: linear-gradient(180deg, var(--surface-2), rgba(255,255,255,0.02));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.02),
    0 2px 10px rgba(0,0,0,.25);
}
.btn:hover { opacity: .9; }
.search { box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02); }

/* ——— Accesibilidad: foco visible bonito ——— */
:focus-visible {
  outline: 2px solid var(--brand-2);
  outline-offset: 2px;
  border-radius: 6px;
}

/* ——— Scrollbar custom (ligero) ——— */
* { scrollbar-color: #3a455d transparent; scrollbar-width: thin; }
::-webkit-scrollbar { height: 10px; width: 10px; }
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #3a455d, #273149);
  border-radius: 8px;
}
::-webkit-scrollbar-track { background: transparent; }

/* ——— Placeholder con shimmer suave ——— */
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.view-placeholder { position: relative; overflow: hidden; }
.view-placeholder::before {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  background-size: 200% 100%;
  animation: shimmer 2.5s linear infinite;
  opacity: .30; pointer-events: none;
}

/* ——— Respeto a preferencias del usuario ——— */
@media (prefers-reduced-motion: reduce) {
  .canvas-inner, .view-placeholder::before { animation: none !important; }
}

/* Respeta preferencias de movimiento */
@media (prefers-reduced-motion: reduce) {
     :root { transition: none !important; }
     .theme-toggle::after, .theme-toggle__icon { transition: none !important; }
   }

/* Responsivo */
@media (max-width: 900px) {
     .controls { flex-direction: column; align-items: stretch; gap: 12px; }
     .toolbar { margin-left: 0; flex-wrap: wrap; }
     .search { width: 100%; }
   }
   /* ——— Grilla sutil animada  ——— */
   @keyframes gridShift {
     0%   { background-position: 0 0, 0 0; }
     100% { background-position: 40px 40px, 40px 40px; }
   }